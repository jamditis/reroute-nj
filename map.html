<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive map — Reroute NJ</title>
  <meta name="description" content="Interactive map of the Portal Bridge cutover showing affected stations, transfer points, and alternative routes.">
  <meta property="og:title" content="Interactive map — Reroute NJ">
  <meta property="og:description" content="Interactive map of the Portal Bridge cutover showing affected stations, transfer points, and alternative routes.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://jamditis.github.io/reroute-nj/map.html">
  <meta property="og:image" content="https://jamditis.github.io/reroute-nj/img/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Interactive map — Reroute NJ">
  <meta name="twitter:description" content="Interactive map of the Portal Bridge cutover showing affected stations, transfer points, and alternative routes.">
  <meta name="twitter:image" content="https://jamditis.github.io/reroute-nj/img/og-image.png">
  <link rel="icon" type="image/svg+xml" href="img/favicon.svg">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
  <link rel="stylesheet" href="css/styles.css">
  <style>
    #map {
      width: 100%;
      height: 500px;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      margin-bottom: 1.5rem;
      z-index: 1;
    }
    .map-legend {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1rem 1.25rem;
      margin-bottom: 1.5rem;
    }
    .legend-title {
      font-size: 0.85rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }
    .legend-items {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem 1.5rem;
    }
    .legend-item {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.8rem;
      color: var(--text-light);
    }
    .legend-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .legend-line {
      width: 20px;
      height: 4px;
      border-radius: 2px;
      flex-shrink: 0;
    }
    .map-filter-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    .map-filter-btn {
      padding: 0.4rem 0.8rem;
      border: 2px solid var(--border);
      border-radius: var(--radius);
      background: var(--card-bg);
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--text-light);
      cursor: pointer;
      transition: var(--transition);
    }
    .map-filter-btn:hover {
      border-color: var(--primary-light);
    }
    .map-filter-btn.active {
      border-color: var(--primary);
      background: var(--primary);
      color: #fff;
    }
    @media (max-width: 480px) {
      #map { height: 350px; }
    }
    @media (min-width: 768px) {
      #map { height: 600px; }
    }
  </style>
</head>
<body>

  <header class="header">
    <div class="header-inner">
      <a href="index.html" class="brand-link"><div class="brand">Reroute<span>NJ</span></div></a>
      <p class="tagline">Interactive cutover map</p>
      <div class="countdown" id="countdown"></div>
    </div>
  </header>

  <nav class="tool-nav">
    <div class="container">
      <a href="index.html" class="tool-nav-link">Line guide</a>
      <a href="compare.html" class="tool-nav-link">Commute comparison</a>
      <a href="coverage.html" class="tool-nav-link">News coverage</a>
      <a href="map.html" class="tool-nav-link active">Map</a>
      <a href="embed.html" class="tool-nav-link">Embed &amp; share</a>
    </div>
  </nav>

  <main class="container">

    <section class="compare-hero">
      <h1>Portal Bridge cutover map</h1>
      <p>See the geography of the cutover: the Portal Bridge location, affected stations, key transfer hubs, and alternative routes.</p>
    </section>

    <div class="map-filter-bar" id="map-filters">
      <button class="map-filter-btn active" data-filter="all">All</button>
      <button class="map-filter-btn" data-filter="montclair-boonton">Montclair-Boonton</button>
      <button class="map-filter-btn" data-filter="morris-essex">Morris &amp; Essex</button>
      <button class="map-filter-btn" data-filter="northeast-corridor">Northeast Corridor</button>
      <button class="map-filter-btn" data-filter="north-jersey-coast">North Jersey Coast</button>
      <button class="map-filter-btn" data-filter="raritan-valley">Raritan Valley</button>
      <button class="map-filter-btn" data-filter="transfer-hubs">Transfer hubs</button>
    </div>

    <div id="map"></div>

    <div class="map-legend">
      <div class="legend-title">Legend</div>
      <div class="legend-items">
        <div class="legend-item"><span class="legend-dot" style="background:#e03030;"></span> Portal Bridge</div>
        <div class="legend-item"><span class="legend-dot" style="background:#7b2d8e;"></span> Montclair-Boonton</div>
        <div class="legend-item"><span class="legend-dot" style="background:#00a651;"></span> Morris &amp; Essex</div>
        <div class="legend-item"><span class="legend-dot" style="background:#ee3a43;"></span> Northeast Corridor</div>
        <div class="legend-item"><span class="legend-dot" style="background:#0082c8;"></span> North Jersey Coast</div>
        <div class="legend-item"><span class="legend-dot" style="background:#faa634;"></span> Raritan Valley</div>
        <div class="legend-item"><span class="legend-dot" style="background:#1a3a5c; border: 2px solid #fff; box-shadow: 0 0 0 1px #1a3a5c;"></span> Transfer hub</div>
      </div>
    </div>

    <!-- Map context -->
    <section class="info-section" style="margin-top: 1rem; border-top: none;">
      <h2>About the Portal Bridge</h2>
      <p class="section-intro">The Portal Bridge spans the Hackensack River in Kearny, NJ, between Newark and Secaucus. It is the single most critical piece of infrastructure on the Northeast Corridor between New York and Washington, D.C.</p>

      <div class="secaucus-grid">
        <div class="secaucus-card">
          <h4>The old bridge</h4>
          <ul>
            <li>Built in <strong>1910</strong> &mdash; 115 years old</li>
            <li>Swing bridge design that opens for marine traffic</li>
            <li>Frequently gets stuck, causing hours of delay</li>
            <li>Carries every NJ Transit and Amtrak train on the Northeast Corridor</li>
          </ul>
        </div>
        <div class="secaucus-card">
          <h4>The new bridge</h4>
          <ul>
            <li>Portal North Bridge: $1.5 billion replacement</li>
            <li>Fixed-span design &mdash; never opens, never gets stuck</li>
            <li>50 feet higher than the old bridge, allowing boats to pass underneath</li>
            <li>Part of the larger Gateway Program to modernize the corridor</li>
          </ul>
        </div>
        <div class="secaucus-card">
          <h4>The cutover</h4>
          <ul>
            <li><strong>Phase 1</strong> (Feb 15 &ndash; Mar 15, 2026): First track transferred to new bridge</li>
            <li>Requires single-track operations between Newark and Secaucus</li>
            <li>50% service reduction across all lines</li>
            <li><strong>Phase 2</strong> (Fall 2026): Second track transferred, old bridge retired</li>
          </ul>
        </div>
      </div>
    </section>

  </main>

  <footer class="footer">
    <div class="container">
      <p class="disclaimer"><strong>Reroute NJ</strong> is an independent community tool. Not affiliated with or endorsed by NJ Transit, Amtrak, or any government agency. Map data &copy; <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMap</a> contributors. Tiles &copy; <a href="https://carto.com/" target="_blank" rel="noopener">CARTO</a>.</p>
      <p class="credit">Built by <a href="https://github.com/jamditis/reroute-nj" target="_blank" rel="noopener">Joe Amditis</a></p>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script src="js/shared.js"></script>
  <script src="js/map.js"></script>
</body>
</html>
